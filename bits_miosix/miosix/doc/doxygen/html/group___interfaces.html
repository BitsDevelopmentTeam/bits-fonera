<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Miosix: Interfaces</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Interfaces</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmiosix_1_1_console.html">miosix::Console</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmiosix__private_1_1_auxiliary_timer.html">miosix_private::AuxiliaryTimer</a></td></tr>
<tr><td colspan="2"><h2><a name="files"></a>
Files</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="arch__registers_8h.html">arch_registers.h</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bsp_8h.html">bsp.h</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="console_8h.html">console.h</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="delays_8h.html">delays.h</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="disk_8h.html">disk.h</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="endianness_8h.html">endianness.h</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpio_8h.html">gpio.h</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="portability_8h.html">portability.h</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#gaf9a5d5c4095f445894e047a624beab1c">toLittleEndian16</a>(x)&nbsp;&nbsp;&nbsp;(x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#ga81fdb9bbd65db8d3613bcf48b33b6b3c">toLittleEndian32</a>(x)&nbsp;&nbsp;&nbsp;(x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#ga9854a77efaef5446bd7e14722017df59">toLittleEndian64</a>(x)&nbsp;&nbsp;&nbsp;(x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#ga3d118b2a14e2880a0439c9bf9a06c6e5">toBigEndian16</a>(x)&nbsp;&nbsp;&nbsp;swapBytes16(x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#gaa6c617366016f8aade26bc9dea6cc26b">toBigEndian32</a>(x)&nbsp;&nbsp;&nbsp;swapBytes32(x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#ga9e5f305b36b75ad6f89becf211624ce2">toBigEndian64</a>(x)&nbsp;&nbsp;&nbsp;swapBytes64(x)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#gae0495cbfc806a0db0cdf2ff023945516">miosix::shutdown</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#ga6f70fdbc3b5d6afa41b5dbc5272cc6a0">miosix::reboot</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#ga9d13aceddc0481fd1077e6fdfb31f9a7">miosix::delayMs</a> (unsigned int mseconds)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#ga244f9474d20ffd5d905855f68aa3114f">miosix::delayUs</a> (unsigned int useconds)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__MIOSIX_INLINE unsigned short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#gaac144bf3451c95e74bdd34327f019344">swapBytes16</a> (unsigned short x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__MIOSIX_INLINE unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#gae45d4bbe8a807a780b0033850c143a81">swapBytes32</a> (unsigned int x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__MIOSIX_INLINE unsigned long long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___interfaces.html#ga74d39ebb52b05eda594e47f0d90e7ad2">swapBytes64</a> (unsigned long long x)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Interfaces between kernel and architecture specific code.</p>
<p>Starting from Miosix 1.53 all calls from kernel to architecture specific code is done through a set of functions, classes and macros grouped in a set of header files in the miosix/interfaces folder. There are multiple implementations of these functions/classes, one for each architecture supported by Miosix. This eases portability since adding a new architecture is done by implementing a well defined set of interfaces.</p>
<p>Some of these functions are not designed to be accessed by user code, for example the functions in <a class="el" href="portability_8h.html">portability.h</a> are used by the kernel to create threads and perform context switching, while the Disk class in <a class="el" href="disk_8h.html">disk.h</a> is used by the filesystem module to read and write from disk. Such functions are marked as \internal and therefore are not visible by default in this doxygen documentation, because are useless for application developers. If there is the need to port Miosix to another platform it is always possible to build the doxygen documentation manually including \internal functions. Using functions which are marked as \internal in user code might lead to undefined behaviour. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga3d118b2a14e2880a0439c9bf9a06c6e5"></a><!-- doxytag: member="endianness.h::toBigEndian16" ref="ga3d118b2a14e2880a0439c9bf9a06c6e5" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define toBigEndian16</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">x</td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;swapBytes16(x)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convert a (signed or unsigned) short int from the system representation to big endian </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>value to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>value converted to big endian </dd></dl>

</div>
</div>
<a class="anchor" id="gaa6c617366016f8aade26bc9dea6cc26b"></a><!-- doxytag: member="endianness.h::toBigEndian32" ref="gaa6c617366016f8aade26bc9dea6cc26b" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define toBigEndian32</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">x</td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;swapBytes32(x)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convert a (signed or unsigned) int from the system representation to big endian </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>value to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>value converted to big endian </dd></dl>

</div>
</div>
<a class="anchor" id="ga9e5f305b36b75ad6f89becf211624ce2"></a><!-- doxytag: member="endianness.h::toBigEndian64" ref="ga9e5f305b36b75ad6f89becf211624ce2" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define toBigEndian64</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">x</td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;swapBytes64(x)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convert a (signed or unsigned) long long from the system representation to big endian </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>value to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>value converted to big endian </dd></dl>

</div>
</div>
<a class="anchor" id="gaf9a5d5c4095f445894e047a624beab1c"></a><!-- doxytag: member="endianness.h::toLittleEndian16" ref="gaf9a5d5c4095f445894e047a624beab1c" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define toLittleEndian16</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">x</td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(x)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convert a (signed or unsigned) short int from the system representation to little endian </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>value to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>value converted to little endian </dd></dl>

</div>
</div>
<a class="anchor" id="ga81fdb9bbd65db8d3613bcf48b33b6b3c"></a><!-- doxytag: member="endianness.h::toLittleEndian32" ref="ga81fdb9bbd65db8d3613bcf48b33b6b3c" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define toLittleEndian32</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">x</td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(x)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convert a (signed or unsigned) int from the system representation to little endian </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>value to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>value converted to little endian </dd></dl>

</div>
</div>
<a class="anchor" id="ga9854a77efaef5446bd7e14722017df59"></a><!-- doxytag: member="endianness.h::toLittleEndian64" ref="ga9854a77efaef5446bd7e14722017df59" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define toLittleEndian64</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">x</td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(x)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convert a (signed or unsigned) long long from the system representation to little endian </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>value to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>value converted to little endian </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga9d13aceddc0481fd1077e6fdfb31f9a7"></a><!-- doxytag: member="miosix::delayMs" ref="ga9d13aceddc0481fd1077e6fdfb31f9a7" args="(unsigned int mseconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void miosix::delayMs </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>mseconds</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delay function. Accuracy depends on the underlying implementation which is architecture specific.<br/>
 Delay time can be inaccurate if interrupts are enabled or the kernel is running due to time spent in interrupts and due to preemption.<br/>
 It is implemented using busy wait, so can be safely used even when the kernel is paused or interrupts are disabled.<br/>
 If the kernel is running it is *highly* recomended to use <a class="el" href="classmiosix_1_1_thread.html#ad7f738dc69a918960fe814a062696c5c">Thread::sleep</a> since it gives CPU time to other threads and/or it puts the CPU in low power mode. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mseconds</em>&nbsp;</td><td>milliseconds to wait </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga244f9474d20ffd5d905855f68aa3114f"></a><!-- doxytag: member="miosix::delayUs" ref="ga244f9474d20ffd5d905855f68aa3114f" args="(unsigned int useconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void miosix::delayUs </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>useconds</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delay function. Accuracy depends on the underlying implementation which is architecture specific.<br/>
 Delay time can be inaccurate if interrupts are enabled or the kernel is running due to time spent in interrupts and due to preemption.<br/>
 It is implemented using busy wait, so can be safely used even when the kernel is paused or interrupts are disabled.<br/>
 </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>useconds</em>&nbsp;</td><td>microseconds to wait. Only values between 1 and 1000 are allowed. For greater delays use <a class="el" href="classmiosix_1_1_thread.html#ad7f738dc69a918960fe814a062696c5c">Thread::sleep()</a> or <a class="el" href="group___interfaces.html#ga9d13aceddc0481fd1077e6fdfb31f9a7">delayMs()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6f70fdbc3b5d6afa41b5dbc5272cc6a0"></a><!-- doxytag: member="miosix::reboot" ref="ga6f70fdbc3b5d6afa41b5dbc5272cc6a0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void miosix::reboot </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The difference between this function and miosix_private::IRQsystemReboot() is that this function disables filesystem (if enabled), serial port (if enabled) while miosix_private::system_reboot() does not do all these things. miosix_private::IRQsystemReboot() is designed to reboot the system when an unrecoverable error occurs, and is used primarily in kernel code, <a class="el" href="group___interfaces.html#ga6f70fdbc3b5d6afa41b5dbc5272cc6a0">reboot()</a> is designed to reboot the system in normal conditions.<br/>
 This function does not return.<br/>
 WARNING: close all files before using this function, since it unmounts the filesystem. </p>

</div>
</div>
<a class="anchor" id="gae0495cbfc806a0db0cdf2ff023945516"></a><!-- doxytag: member="miosix::shutdown" ref="gae0495cbfc806a0db0cdf2ff023945516" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void miosix::shutdown </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function disables filesystem (if enabled), serial port (if enabled) and shuts down the system, usually by putting the procesor in a deep sleep state.<br/>
 The action to start a new boot is system-specific, can be for example a reset, powercycle or a special GPIO configured to wakeup the processor from deep sleep.<br/>
 This function does not return.<br/>
 WARNING: close all files before using this function, since it unmounts the filesystem.<br/>
 </p>

</div>
</div>
<a class="anchor" id="gaac144bf3451c95e74bdd34327f019344"></a><!-- doxytag: member="endianness.h::swapBytes16" ref="gaac144bf3451c95e74bdd34327f019344" args="(unsigned short x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short swapBytes16 </td>
          <td>(</td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>x</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>an short int </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the same short with its bytes swapped </dd></dl>

</div>
</div>
<a class="anchor" id="gae45d4bbe8a807a780b0033850c143a81"></a><!-- doxytag: member="endianness.h::swapBytes32" ref="gae45d4bbe8a807a780b0033850c143a81" args="(unsigned int x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int swapBytes32 </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>x</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>an int </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the same int with its bytes swapped </dd></dl>

</div>
</div>
<a class="anchor" id="ga74d39ebb52b05eda594e47f0d90e7ad2"></a><!-- doxytag: member="endianness.h::swapBytes64" ref="ga74d39ebb52b05eda594e47f0d90e7ad2" args="(unsigned long long x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long swapBytes64 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&nbsp;</td>
          <td class="paramname"> <em>x</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>a long long </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the same long long with its bytes swapped </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sat Nov 12 2011 for Miosix by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
